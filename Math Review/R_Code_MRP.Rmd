---
title: "R Code to Complement Math Review Packet"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### A Note:
The notes and code in this document are meant to serve as complementary material to the Math Review Packet. In this program, you will be able to perform calculations in R...

\pagebreak

## Properties of Logarithms

In R the log() function computed logarithms by natural logarithms ($ln()$) to calculate logarithms with different bases such as $log_{10}$ use log10(), $log_{2}$ use log2(), etc... 

For example if we wanted to solve $log_{10}10000$: 
```{r}
log10(10000)
```

Additionally if we wanted to solve $e^4$, we would use the exp()
```{r}
exp(4)
```

### Practice Problems.
1. Solve the following:
a. $log_e(e^x) = x$
```{r Logs 1a}
# If x = 3
log(exp(3))
```

b. $log_{10}(100) = 2$
```{r Logs 1b}
log10(100)
```

c. $log_{10}(\frac{1}{10}) = -1$
```{r Logs 1c}
log10(1/10)
```

d. $log_{10}(0) =$ No solution
```{r Logs 1d}
log10(0)
```


3 Condense the following 
c. $log_{10}(5) + log_{10}(2) = 1$
```{r Log 3c}
log10(5) + log10(2)
```

\pagebreak

# Matrix Algebra

### Creating a Matrix in R 
Type ?matrix in the **Condole** or matrix in **Help** to look at the inputs of the matrix function.

If we want to store the matrix we need give a name to the matrix, "Z" for example, and store the matrix. 

For example $\textbf{Z} = \begin{bmatrix} 1&2&3\\ 4&5&6\\ 7&8&9\\ \end{bmatrix}$ $\textbf{Y} = \begin{bmatrix} 1&4&7\\ 2&5&8\\ 3&6&9\\ \end{bmatrix}$

```{r Matrix Example}
#Sorting by row
Z <- matrix(data = c(1,2,3,4,5,6,7,8,9),nrow = 3, ncol = 3, byrow = TRUE)
print(Z)

#Sorting by column
Y <- matrix(data = (1:9), nrow = 3, ncol = 3, byrow = FALSE)
print(Y)
```

### Definitions 
The transpose of an $m\times n$ matrix, $A$ is the $n\times m$ matrix (denoted $A^T$) such that every element $a_{ij}$ in matrix A is moved to row $j$ and column $i$. For example, if:  
$$\textbf{A}=\begin{bmatrix} 1&2&5\\ 3&4&7\\ \end{bmatrix}$$  
then,  
$$\textbf{A}^T=\begin{bmatrix} 1&3\\ 2&4\\ 5&7\\ \end{bmatrix}$$  

```{r}
# Matrix A
A <- matrix(data = c(1,2,5,3,4,7), nrow = 2, ncol = 3, byrow = TRUE)

print(A)

# A transpose
print(t(A))
```

#### Identity Matrix 
```{r}
# Identity Matrix: use diag() to create an identity matrix
# I = 4x4 identity matrix
I <- diag(4)
print(I)
class(I)
```

#### Diagonal 
```{r}
X1 <- matrix(data = c(1,0,0,0,4,0,0,0,5), nrow = 3, byrow = TRUE)
print(X1)

# To obtain the obtain the values of the diagonal of an n x n matrix
diag(X1)

# We could also create an empty matrix and assign values to the diagonal
X2 <- matrix(data = 0, nrow = 3, ncol = 3)
diag(X2) <- c(1,4,5)
print(X2)
```

#### Upper and Lower Triangular Matrices 
```{r, tidy=TRUE}
# Create an empty matrix
V <- W <- matrix(data = 0, nrow = 3, ncol = 3, byrow = TRUE)
print(W)

# Use upper.tri() or lower.tri() to change the elements of the upper triangular matrix or lower triangular matrix, respectively. 

# Upper Triangular
W[upper.tri(W, diag = TRUE)] <- c(1:6)
print(W)

# Lower Triangular 
V[lower.tri(V, diag = TRUE)] <- c(1:6)
print(V)
```

#### Inverse of a matrix
```{r}
U <- matrix(data = c(1:4), nrow = 2, byrow = TRUE)

# Use solve() to obtain the inversie of a matrix
inU <- solve(U)

# Confirm you get an identity matrix
round(U %*% inU, 2)
round(inU %*% U, 2)
```

#### Determinant of a matrix
```{r}
# Use det() to obtain the determinant of a matrix
det(U)
```

### Operations with matrices

a. Adding matices
```{r}
# Using the above matrices (Z and Y) we will show that Z + Y = X
# Adding matrices of the same dimension will produce a matrix of the same dimension
dim(Z + Y); dim (Z); dim(Y)
Z + Y
```

b. Subtracting matrices
```{r}
# Subtracting matrices of the same dimension will produce a matrix of the same dimension
dim(Z - Y); dim (Z); dim(Y)
Z - Y
```

c. Multiplying a matrix by a scalar
```{r}
# Multiplying a matrix by a scaler will produce a matrix of the same dimension
# Suppose that c = 3

3 * Z 
```

d. Matrix Multiplication
```{r}
m1 <- matrix(data = c(3,4,2,5,1,2), nrow = 3, ncol = 2, byrow = TRUE)
print (m1) ; dim(m1)

m2 <- matrix(data = c(7,2,1,3,5,2), nrow = 2, ncol = 3, byrow = TRUE)
print(m2); dim(m2)

# Matrix multiplication
m1 %*% m2

# It is important to note that when multiplying matrices we need to use %*% rather than * because using * will multiply the values element-wise. 
print(Z); print(Y)
Z * Y 
Z %*% Y
```

### Properties of matrix operations
1. $A + B = B + A$
```{r}
Z + Y
Y + Z
```

2. $(A+B)+C=A+(B+C)$ 
```{r}
(Z + Y) + X1
Z + (Y + X1)
```

3. $(AB)C=A(BC)$
```{r}
(Z %*% Y) %*% X1
Z %*% (Y %*% X1)
```

4. $(A+B)C=AC + BC$ 
```{r}
(Z + Y) %*% X1
(Z %*% X1) + (Y %*% X1)
```

5. If $A$ is an $m\times n$ matrix, then $I_mA=A$ and $AI_n=A$
```{r}
A
Im <- diag(x = 1, nrow = 2)
In <- diag(x = 1, nrow = 3)

Im %*% A
A %*% In
```

Note that, in general $AB \ne BA$   
```{r}
Z %*% Y
Y %*% Z
```

### Writing a system of equations using matrix notation
***** SOPHIE LOOK HERE ***** I don't really know how to show this!
```{r}
a1 <- rep(0, 100)
a2 <- rnorm(100, 0, 1)
a3 <- 2*rnorm(100, 0, 2)
A <- cbind(a1, a2, a3)
dim(A)

X <- as.matrix(c(1:3))
dim(X)

Y <- A %*% X
dim(Y)
```

\pagebreak

### Practice Problems
1. Solve the following:
  a. $\begin{bmatrix} 2&4&2\\ 1&3&0\\1&6&2\\ \end{bmatrix} +
      \begin{bmatrix} 1&5&0\\ -2&-3&0\\ 1&9&5\\ \end{bmatrix} = 
      \begin{bmatrix} 3&9&2\\ -1&0&0\\ 2&15&7\\ \end{bmatrix}$  
    
```{r Matrix 1a}
M1 <- matrix(data = c(2,4,2,1,3,0,1,6,2),
             nrow = 3, ncol = 3, byrow = TRUE)

M2 <- matrix(data = c(1,5,0,-2,-3,0,1,9,5),
             nrow = 3, ncol = 3, byrow = TRUE)

M1 + M2
```

  b. $\begin{bmatrix} 2&1\\ -2&2\\ 4&2\\ \end{bmatrix}
      \begin{bmatrix} 5&2&-1\\ 3&4&2\\ \end{bmatrix} =
      \begin{bmatrix} 13&8&0\\ -4&4&6\\ 26&16&0\\ \end{bmatrix}$  
      
```{r Matrix 1b}
M3 <- matrix(data = c(2,-2,4,1,2,2), nrow = 3, ncol = 2, byrow = FALSE)

M4 <- matrix(data = c(5,3,2,4,-1,2), nrow = 2, ncol = 3, byrow = FALSE)

M3 %*% M4
```

c. Let $\textbf{A} =\begin{bmatrix} 1&2\\ 3&5\\ 4&0\\ \end{bmatrix} \mbox{and } 
       \textbf{B} =\begin{bmatrix} 4&4\\ 1&2\\ 7&0\\ \end{bmatrix}  
       \textbf{A}^T \textbf{B} = \begin{bmatrix} 35&10\\ 13&18\\ \end{bmatrix}$ 
       
```{r Matrix 1c}
A <- matrix(data = c(1,2,3,5,4,0), nrow = 3, ncol = 2, byrow = TRUE)

B <- matrix(data = c(4,1,7,4,2,0),nrow = 3, ncol=2, byrow = FALSE)

t(A) %*% B
```
d. Using the same matrices as in part c, $\textbf{B}^T\textbf{A} = 
\begin{bmatrix} 35&13\\ 10&18\\ \end{bmatrix}$

```{r 1d}
t(B) %*% A
```

Show that **A** and **B** are inverses:
$\begin{bmatrix} 1&2&1\\ 2&2&0\\ 1&1&1\\ \end{bmatrix}  
  \begin{bmatrix} -1&0.5&1\\ 1&0&-1\\ 0&-0.5&1\\ \end{bmatrix}=
  \begin{bmatrix} 1&0&0\\ 0&1&0\\ 0&0&1\\ \end{bmatrix}$
       
       
```{r Matrix 2}
A <- matrix(data = c(1,2,1,2,2,0,1,1,1), nrow = 3, ncol = 3, byrow = TRUE)

#Use the solve() to find the inverse of a matrix
solve(A)

B <- matrix(data = c(-1, 0.5, 1, 1, 0, -1, 0, -0.5, 1), nrow = 3, ncol = 3, byrow = TRUE)

#Use the solve() to find the inverse of a matrix
solve(B)

A %*% B
```

3. Suppose that $A$ is a 4x3 matrix and $B$ is a $3x8$ matrix.  
```{r Matrix 3}
A <- matrix (data= (1:12), nrow = 4, ncol = 3, byrow = FALSE)
B <- matrix (data = (1:24), nrow = 3, ncol = 8, byrow = TRUE)
```
  a. $\textbf{AB}$ exists and is 4x8 matrix. 
```{r Matrix 3a}
A %*% B
dim(A%*%B)
```
  b. $\textbf{BA}$ does not exist. 
```{r Matrix 3b}
# The following produce errors
# B %*% A
```

4. The determinant of $det\begin{bmatrix} 1&-2\\ 4&3\\ \end {bmatrix} = 11$
```{r Matrix 4}
M5 <- matrix(data = c(1, -2, 4, 3), nrow = 2, ncol = 2, byrow = TRUE)
det(M5)
```

\pagebreak
## Variables : Types and Summaries

### Summary statistics for central tendency 
```{r Summary statistics for central tendency, tidy = TRUE}
dat <- c(1,2,3,5,5,4,6,6,1,2,10,11,9,9,9)

# Mean
mean(dat)

# Median 
median(dat)

# Mode -- R does not have a built in function for mode but you can use the table function to see what the most common value is
table(dat)
```

### Summary statistics for spread
```{r Summary statistics for spread}
# Range
range(dat)[2]-range(dat)[1]
diff(range(dat))

# Sample Variance
var(dat)

# Standard Deviation
sd(dat)
sqrt(var(dat))
```

\pagebreak
## Central Limit Theorem Introduction
We can sample from many distributions in R. The following will walk through sampling from a normal distribution. 

In the example with average salary of "Data Scientists" we have a sample (n = 400), mean of 100,000 and standard deviation of 10,000. 
```{r, tidy = TRUE}
DS_salary <- rnorm(n = 400, mean = 100000, sd = 10000)
par(mfrow=c(2,2))
hist(DS_salary, main = "Histogram of Data Scientist's salaries", cex.main = 0.7, xlab = "Salaries")
plot(density(DS_salary), main = "Density plot of Data Scientist's salaries", cex.main = 0.7, xlab = "Salaries")
boxplot(DS_salary, main = "Boxplot of Data Scientist's salaries", cex.main = 0.7)
```

## Z-Tests, T-Test, P-Values

\pagebreak
## Correlation and Covariance

\pagebreak
## Simple Ordinary Least Squares Regression
